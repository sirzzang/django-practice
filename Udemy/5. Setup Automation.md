# Travis-CI



* sign up with github account and enable button

![image-20210325160244501](images/image-20210325160244501.png)

* Travis-CI configuration: configuring what to do when pushing a change to the project

  * 프로젝트 루트 디렉토리에 `.travis.yml` YAML 파일 생성

  ```yaml
  language: python # language
  python: # version of the language
    - "3.6"
  
  services: # services
    - docker
  
  before_script: pip install docker-compose # script Travis will run before executing automation command
  
  script: # specify the script
    - docker-compose run app sh -c "python manage.py test && flake8"
  ```

  * `services`: docker를 이용해서 관리하고 모든 하위 서비스가 docker 컨테이너에서 실행되므로 docker만 작성

  * `before_script`: before Travis-CI runs anything

  * `script`: run docker compose command for running tests (*if exits with a failure then it will fail the build and sends notification*)

    * `manage.py`의 test command
    * flake8: linting tool (*참고*: requirements.txt에 linting tool인 flake8 추가)

    

<br>

## flake8 configuration

 Django app 디렉토리에 `.flake` 파일 생성

![image-20210325171045299](images/image-20210325171045299.png)

* exclude some of the automated scripts and tools created by Django
  * Django: 100 vs. Python recommended: 79



